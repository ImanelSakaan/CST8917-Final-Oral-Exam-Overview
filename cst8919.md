### üîÑ Serverless Architecture for Algonquin Pet Store
<img width="1193" height="105" alt="image" src="https://github.com/user-attachments/assets/0cdd82ea-57c3-4f7f-bddb-b1be07495efb" />


Here is both a **diagram** and a **description** of a **typical security automation workflow** for the *Algonquin Pet Store (On Steroids)* ‚Äî specifically, a **"User Activity Triggers Password Reset Workflow"**.

---

## üîÅ **Use Case: Suspicious Activity Triggers Password Reset**

### üß† Scenario:

If a user has **5 failed login attempts within 10 minutes**, an automated workflow should:

1. Lock their account temporarily.
2. Send an email asking them to reset their password.
3. Log the event and alert the security team.

---

### ‚úÖ **Diagram ‚Äì Automation Flow**

```mermaid
flowchart TD
  A[üîê User Login Attempt] --> B{üõë Failed Login?}
  B -- Yes --> C[ üìä Log to Azure Monitor or Sentinel]
  C --> D{ üß† Five or more failures in 10 minutes?}
  D -- Yes --> E[Lock Account Temporarily]
  E --> F[Send Password Reset Email]
  F --> G[Log to Audit Store]
  G --> H[Alert Security Team via Email or Teams]
  D -- No --> Z[Wait for More Events]
  B -- No --> Y[Normal Login]

  style A fill:#D6EAF8,stroke:#2980B9
  style F fill:#FADBD8,stroke:#C0392B
  style H fill:#FCF3CF,stroke:#F1C40F
  style Y fill:#D5F5E3,stroke:#27AE60

```

A[üîê User Login Attempt] --> B{üõë Failed Login?}
  B -- Yes --> C[üìä Log to Azure Monitor / Sentinel]
  C --> D[üß† Check if 5+ failures in 10 min (KQL/Logic App)]
  D -- Yes --> E[üîí Lock Account Temporarily (via API)]
  E --> F[üìß Send Password Reset Email]
  F --> G[üì• Log to Audit Store]
  G --> H[üì£ Alert Security Team (Email/MS Teams)]
  D -- No --> Z[üîÅ Wait for more events]
  B -- No --> Y[‚úÖ Normal Login]

### ‚úÖ **Step-by-Step Explanation**

| Step | Action                       | Tool                                    | Purpose                      |
| ---- | ---------------------------- | --------------------------------------- | ---------------------------- |
| 1Ô∏è‚É£  | User attempts to log in      | App + Azure AD B2C / Auth0              | Entry point                  |
| 2Ô∏è‚É£  | Failed login logged          | Azure Monitor / Sentinel                | Log events centrally         |
| 3Ô∏è‚É£  | Analyze logs for patterns    | KQL or Azure Logic App                  | Detect brute force attempts  |
| 4Ô∏è‚É£  | Lock the account temporarily | API call or AD B2C rule                 | Block unauthorized access    |
| 5Ô∏è‚É£  | Send reset link to email     | Azure Communication Services / SendGrid | Allow secure recovery        |
| 6Ô∏è‚É£  | Log everything               | Azure Log Analytics / Audit Log         | For compliance and forensics |
| 7Ô∏è‚É£  | Notify team                  | Logic App ‚Üí MS Teams / Email            | Escalate the incident        |

---

### ‚úÖ **Security Benefits**

* Prevents brute-force account takeovers.
* Automates password recovery securely.
* Ensures all actions are auditable.
* Informs security admins in real-time.

---

Would you like me to generate a PNG version of this diagram for your PowerPoint slide?
